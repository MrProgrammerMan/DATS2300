---
title: Kap 1.4.6 Grensesnittet Comparator
id: 20251029110835
tags: []
---

# [1.4.6]([[20250818102829]]) Grensesnittet Comparator
Comparator er et innebyg grensesnitt i Java. Det brukes til å definere en måte å sammenligne 2 objekter. Dette gjøres ved å implementere compareTo()-metoden. Vi kan gjøre dette ved å lage en egen klasse som implementerer grensesnittet, instansiere denne, og sende denne instansen inn som et parameter i metoder som skal sammenligne to komplekse objekter. Imidlertid har java `@FunctionalInterface` som forsikrer at et interface kun implementerer én metode. Dette er nyttig ettersom en implementasjon av dette interfacet ikke trenger å spesifisere navnet på metoden som skal implementeres. Det kan kun være den ene metoden som finnes. Vi kan derfor bruke en forenklet måte å implementere et slikt interface med Java lambda-uttrykk for å få mindre boilerplate-kode.
```java
@FunctionalInterface
public interface SomeInterface<T> {
    int someMethod(T t);
}
```
Implementasjonen kan da gjøres slik:
```java
SomeInterface<Integer> i = (n) -> n + 3;
SomeInterface<String> s = str -> str.length(); //Kan droppe parenteser når det er ett parameter
```
Dette kan for eksempel brukes til å lage generiske sorteringsalgoritmer. Egentlig kan alt sorteres, så lenge det finnes en måte å sammenligne elementene. Vi kan ta inn en Comparator å la det være opp til den som kaller algoritmen å bestemme hvordan vi skal sortere ved å gi en Comparator-instans. Slik:
```java
@FunctionalInterface
public interface Comp<T> {
    int compare(T t0, T t1);
}
```
[Insertion sort]([[20251028122347]]):
```java
public static <T> void quicksort(T[] a, Comp<? super T> c) {
    for (int i = 1; i < a.length; i++) {
        T key = a[i];
        int j = i - 1;
        while (j >= 0 && c.compare(a[j], key) > 0) {
            a[j + 1] = a[j];
            j--;
        }
        a[j + 1] = key;
    }
}
```
I main:
```java
String[] s = new String[]{"Chris", "Bjørn", "Alex", "Durek"};
quicksort(s, (s0, s1) -> s0.compareTo(s1));
System.out.println(Arrays.toString(s)); //["Alex", "Bjørn", "Chris", "Durek"]
```