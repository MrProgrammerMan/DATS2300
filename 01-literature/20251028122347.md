---
title: Kap 1.3.8 Ordnet innsetting, innsettings- og shellsortering
id: 20251028122745
tags: []
---

# [1.3.8]([[20250818102829]]) Ordnet innsetting, innsettings- og shellsortering
## Ordnet innsetting
For å holde en tabell sortert kan vi ikke legge inn verdier hvor vi vil. Det er ofte lettere å legge hver verdi på sin riktige plass ved innsetting enn å bruke generelle sorteringsalgoritmer ofte.

## Innsettingssortering
Innsettingssortering baserer seg på at man lager et nytt array hvor man legger inn verdien med indeks 0 i det gamle arrayet. Deretter setter man inn verdien med indeks 1, enten til venstre eller til høyre for den verdien vi har. Dette betyr at vi er nødt til å flytte de verdiene som er større enn den vi setter inn et hakk til høyre. Vi fortsetter med dette til tabellen er sortert. I praksis lager vi ikke noe nytt array, da vi bare kan ha en sortert del av arrayet til venstre.

## Shellsortering
Shellsortering er en tilpasning av insettingssortering som er mer effektiv. Den fungerer slik:
1. Velg en avstand mellom elementer som skal sorteres. Det vanligste er å velge $\lfloor\frac{n}{2}\rfloor$.
2. Start med element ved indeks 0, og sammenlign det med elementet på indeks $\lfloor\frac{n}{2}\rfloor$. **Gjennomfør selection sort** på disse som om de er de eneste 2 elementene i en tabell. _Her er det viktig at man bruker selection sort. I praksis vil dette si å bytte verdiene hvis de danner en inversjon, men dette funker ikke senere i algoritmen!_
3. Se på verdiene som er et hakk til høyre for de som akkurat ble sammenlignet. **MERK:** Dersom du har sett på verdiene på indeks 0 og 3, skal du nå se på verdiene på indeks 1 og 4. _IMIDLERTID_ er det viktig å huske på at dersom du så på verdiene på indeks 2 og 5, skal du nå se på verdiene på indeks 0, 3 og 6. Du skal altså foreta insertion sort på verdier separert med et fast mellomrom, så langt du kan finne verdier i det mønsteret tilbake til starten av tabellen.
4. Når du til slutt har foretatt insertion sort hvor den høyre verdien er i slutten av tabellen begynner du på nytt. Nå bruker du mellomrom på $\lfloor\frac{n}{2^2}\rfloor$.
5. Gjenta med $\lfloor\frac{n}{2^3}\rfloor$, $\lfloor\frac{n}{2^4}\rfloor$ … inntill $\lfloor\frac{n}{2^x}\rfloor=1$.
6. Tabellen er nå sortert.

Etter hver runde med shell sort vil deler av tabellen bestående av jevnt fordelte tall være sortere. Dersom $\lfloor\frac{n}{2}\rfloor$= 4, betyr dette at det finnes 4 sett med tall etter første runde som er sortert hvis man kun ser på hvert 4. tall og anser dette som en egen liste. Unionen av disse 4 settene inneholder samme verdier som tabellen(Ja det kan bli litt feil med sett-teori og plassering, duplikater osv., ikke poenget her).