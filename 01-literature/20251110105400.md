---
title: Kap 4.2.4 En lenket kø
id: 20251110110030
tags: []
---

# [4.2.4]([[20250818102829]]) En lenket kø
```java
public class SimpleQueue<T> implements Queue<T> {

    private static final class Node<T> {
        private T value;
        private Node<T> next;

        Node(Node<T> next) {
            this.value = null;
            this.next = next;
        }
    }

    private Node<T> from;   // peker til første element
    private Node<T> to;     // peker til første ledige node
    private int size;       // antall elementer i køen

    public SimpleQueue() {
        this(8);
    }

    public SimpleQueue(int capacity) {
        from = to = new Node<>(null);
        Node<T> p = from;
        for (int i = 1; i < capacity; i++) {
            p = new Node<>(p);
        }
        from.next = p;  // fullfør sirkelen
        size = 0;
    }

    public boolean add(T value) {
        if (value == null) throw new NullPointerException("Null values not allowed");
        if (to.next == from) { // køen "full" – må utvide
            to.next = new Node<>(from);
        }
        to.value = value;
        to = to.next;
        size++;
        return true;
    }

    public T element() {
        if (size == 0) throw new java.util.NoSuchElementException("Queue is empty");
        return from.value;
    }

    public T remove() {
        if (size == 0) throw new java.util.NoSuchElementException("Queue is empty");
        T temp = from.value;
        from.value = null;  // frigjør noden
        from = from.next;
        size--;
        return temp;
    }

    public int size() {
        return size;
    }

    public boolean isEmpty() {
        return size == 0;
    }

    public void clear() {
        while (size > 0) {
            remove();
        }
    }
}
```