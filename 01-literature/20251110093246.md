---
title: Kap 4.1.2 En tabellbasert stack
id: 20251110093309
tags: []
---

# [4.1.2]([[20250818102829]]) En tabellbasert stack
En stack kan bruke et array som indre datastruktur. I så fall lagrer vi elementene i stacken fra indeks 0 og oppover. Vi holder styr på hvor i stacken vi er med en tellevariabel. Ved innlegging over kapasiteten til arrayet er vi nødt til å utvide det.
```java
public class ArrayStack<T> implements Stack<T> {
	private T[] a;
    private int n;

    public ArrayStack() {
        this(8);
    }

    @SuppressWarnings("unchecked")
    public ArrayStack(int size) {
        if (size < 0) throw new IllegalArgumentException("Cannot create array of negative size");
		a = (T[]) new Object[size];
        n = 0;
    }

    private void expand() {
        a = Arrays.copyOf(a, a.length == 0 ? 1 : 2*a.length);
    }
    
    public void push(T value) {
        if (n == a.length) expand();
        a[n++] = value;
    }
    
    public T peek() {
        if (n==0) throw new NoSuchElementException("The stack is empty");
        return a[n-1];
    }
    
    public T pop() {
        if (n==0) throw new NoSuchElementException("The stack is empty");
        T tmp = a[--n];
        a[n] = null;
        return tmp;
    }
    
    public int size() {
        return n;
    }
    
    public boolean isEmpty() {
        return n == 0;
    }

    @SuppressWarnings("unchecked")
	public void clear() {
        a = (T[]) new Object[a.length];
        n = 0;
    }
}
```

## Effektivitet
Mønsteret over hvor tabellen utvides dynamisk er vanlig. Det viser seg at siden utvidelsene skjer med større mellomrom desto større tabellen er, vil det å legge inn en verd i stacken være av konstant orden uansett om man behøver å utvide(i gjennomsnitt).